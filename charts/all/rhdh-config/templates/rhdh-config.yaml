kind: ConfigMap
apiVersion: v1
metadata:
  name: app-config-rhdh
data:
  app-config-rhdh.yaml: |
    app:
      title: Red Hat Developer Hub
      baseUrl: https://backstage-developer-hub-{{ .Values.developerhub.namespace }}.apps.{{ .Values.vars.developerhub.clustername }}
    backend:
      auth:
        keys:
          - secret: "${BACKEND_SECRET}"
      baseUrl: https://backstage-developer-hub-{{ .Values.developerhub.namespace }}.apps.{{ .Values.vars.developerhub.clustername }}
      cors:
        origin: https://backstage-developer-hub-{{ .Values.developerhub.namespace }}.apps.{{ .Values.vars.developerhub.clustername }}
    auth:
      environment: development
      allowGuestAccess: true
      providers:
        guest:
          dangerouslyAllowOutsideDevelopment: true
        github:
          development:
            clientId: ${GH_CLIENT_ID}
            clientSecret: ${GH_CLIENT_SECRET}
    integrations:
      github:
        - host: github.com
          token: ${GH_ACCESS_TOKEN}
    dangerouslyAllowSignInWithoutUserInCatalog: true
    enabled:
      github: true

#    integrations:
#      github:
#        - host: github.com
#          token: {YOUR ACCESS_TOKEN}
#        github:
#          development:
#            clientId: {YOUR CLIENT_ID}
#            clientSecret: {YOUR Client Secrets}
#    dangerouslyAllowSignInWithoutUserInCatalog: true
#    enabled:
#      github: true
